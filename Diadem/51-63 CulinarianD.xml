<?xml version="1.0" encoding="UTF-8"?>
<!--
Authors:  Kayla / Angles24 
-->
<Profile>
<Name>Crafting Culinarian to 63</Name>
<BehaviorDirectory>..\Quest Behaviors</BehaviorDirectory>
<Order>
	
	<!-- Leave Diadem -->
	<If Condition="(WorldManager.ZoneId == 901)">
		<RunCode Name="Leave"/>
		<WaitTimer waitTime="7"/>
		<WaitWhile Condition="not GameObjectManager.GetObjectByNPCId(1031694)" />
	</If>
		
	<!-- Turn in-->
	<If Condition="WorldManager.ZoneId != 901">
		<While Condition="(HasIshgardItem() &gt; 0) or (HasIshgardGatheringMining() &gt; 0) or (HasIshgardGatheringBotanist() &gt; 0)">
			<RunCode Name="TurnIn"/>
		</While>		
		<While Condition="(ItemCount(29845) &gt; 24) and (ItemCount(29848) &gt; 24) and (Core.Me.Levels[ClassJobType.Culinarian] &gt; 50) and  (Core.Me.Levels[ClassJobType.Culinarian] &lt; 63)">
			<!-- Grade 2 Plywood -->
			<Lisbeth Json="[{'Group':1,'Item':29807,'Amount':5,'Enabled':true,'Type':'Culinarian','Collectable':false}]"/>
		</While>
		<!-- Turn in-->
		<While Condition="(HasIshgardItem() &gt; 0) or (HasIshgardGatheringMining() &gt; 0) or (HasIshgardGatheringBotanist() &gt; 0)">
			<RunCode Name="TurnIn"/>
		</While>		
	</If>
	
	<!-- Gather Materials -->	
	<If Condition="(Core.Me.Levels[ClassJobType.Culinarian] &gt; 50) and  (Core.Me.Levels[ClassJobType.Culinarian] &lt; 63)">
		<If Condition="(ItemCount(29845) &lt; 24) and (ItemCount(29848) &lt; 24)">
			<Lisbeth Json="[{'Id':1,'Group':1,'Item':29899,'Amount':50,'Enabled':true,'Type':'Gather'},{'Group':1,'Item':29902,'Amount':50,'Enabled':true,'Type':'Gather'}]"/>		
		</If>
		<If Condition="(ItemCount(29845) &lt; 24)">
			<Lisbeth Json="[{'Id':1,'Group':1,'Item':29899,'Amount':50,'Enabled':true,'Type':'Gather'}]"/>		
		</If>
		<If Condition="(ItemCount(29848) &lt; 24)">
			<Lisbeth Json="[{'Id':1,'Group':1,'Item':29902,'Amount':50,'Enabled':true,'Type':'Gather'}]"/>		
		</If>	
	</If>
	
	<!-- Leave Diadem -->
	<If Condition="(WorldManager.ZoneId == 901)">
		<RunCode Name="Leave"/>
		<WaitTimer waitTime="7"/>
		<WaitWhile Condition="not GameObjectManager.GetObjectByNPCId(1031694)" />
	</If>
	
	<!-- Reload Profile -->
	<If Condition="Core.Me.Levels[ClassJobType.Culinarian] &lt; 63">
		<ALoadProfile Path="51-63 CulinarianD.xml"/>
	</If>
	
	<!-- Load Start -->
	<LogMessage Message="Congrats on Level 63 on Culinarian, moving on." />	
	<ALoadProfile Path="../Start.xml"/>
		
</Order>
<CodeChunks>
	<CodeChunk name="Leave">
	<![CDATA[
		if (DutyManager.InInstance)
		{
		DutyManager.LeaveActiveDuty();
		if (await Coroutine.Wait(30000, () => CommonBehaviors.IsLoading))
		{
		await Coroutine.Yield();
		await Coroutine.Wait(Timeout.Infinite, () => !CommonBehaviors.IsLoading);
		await Coroutine.Sleep(1000);
		}
		}
	]]>
	</CodeChunk>
	<CodeChunk Name="TurnIn">
	<![CDATA[
		Logging.Write("[Handin] calling");
		await LlamaLibrary.IshgardHandinBase.HandinNew();
		await LlamaLibrary.IshgardHandinBase.GatheringHandin();
	]]>
	</CodeChunk>
</CodeChunks>
</Profile>