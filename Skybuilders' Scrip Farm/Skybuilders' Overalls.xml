<?xml version="1.0" encoding="UTF-8"?>
<!--
Authors:  Kayla / Angles24 
-->
<Profile>
  <Name>Skybuilders' Overalls</Name>
  <BehaviorDirectory>../Quest Behaviors</BehaviorDirectory>
	<Order>
		
		 <!-- Turn your shit in. -->
        <If Condition="HasIshgardItem() &gt; 0 and GetSkybuilderScrips() &lt; 9000">
			<RunCode Name="TurnIn"/>
        </If>
		
		<!-- Check to see if we full on scrips -->
		<If Condition="GetSkybuilderScrips &gt; 9000">
			<LogMessage Message="SkyBuilders' Scripts Full." />
			<RunCode Name="ScripFull"/>
			<StopBot/>
        </If>
		
		<!-- Check to see if need inventory space -->
		<If Condition="FreeItemSlots() &lt; 26">
			<LogMessage Message="Empty bag so there is at least 25 slots free." />
			<RunCode Name="BagsFull"/>
			<StopBot/>
		</If>
		
		<!-- Check to see if we can at least craft 15 collectables -->
		<If Condition="not HasAtLeast(27753,60) and not HasAtLeast(28790,120) and not HasAtLeast(28793,120) and not HasAtLeast(28794,120)">
			<LogMessage Message="Going to farm mats for 165 Skybuilders' Overallss." />
			<Lisbeth Json="[{'Group':1,'Item':27753,'Amount':660,'Enabled':true,'Type':'Gather'},{'Id':1,'Group':1,'Item':28790,'Amount':1320,'Enabled':true,'Type':'Gather'},{'Id':2,'Group':1,'Item':28793,'Amount':1320,'Enabled':true,'Type':'Gather'},{'Id':3,'Group':1,'Item':28794,'Amount':1320,'Enabled':true,'Type':'Gather'}]"/>
		</If>
		
		<!-- Skybuilders' Overalls -->
		<If Condition="HasAtLeast(27753,40) and HasAtLeast(28790,120) and HasAtLeast(28793,120) and HasAtLeast(28794,120)">
			<LogMessage Message="Going to craft 15 Skybuilders' Overalls." />
			<Lisbeth Json="[{'Group':1,'Item':28761,'Amount':15,'Enabled':true,'Type':'Leatherworker','Collectable':false}]"/>
		</If>
		
		<!-- Turn your shit in. -->
        <If Condition="HasIshgardItem() &gt; 0 and GetSkybuilderScrips() &lt; 9000">
			<RunCode Name="TurnIn"/>
        </If>
		
		<!-- Check to see if we full on scrips -->
		<If Condition="GetSkybuilderScrips &gt; 9000">
			<LogMessage Message="SkyBuilders' Scripts Full." />
			<RunCode Name="ScripFull"/>
			<StopBot/>
        </If>
		
		<LoadProfile Path="Skybuilders' Overalls.xml"/>
			
	</Order>	
	<CodeChunks>
		<CodeChunk Name="TurnIn">
		<![CDATA[
			Logging.Write("[Handin] calling");
			await LlamaLibrary.IshgardHandinBase.Handin();
		]]>
		</CodeChunk>
		<CodeChunk Name="ScripFull">
		<![CDATA[
			Core.OverlayManager.AddToast(() => "SkyBuilder's Scrips Full.", TimeSpan.FromMilliseconds(25000), System.Windows.Media.Color.FromRgb(29,213,226), System.Windows.Media.Color.FromRgb(13,106,175), new System.Windows.Media.FontFamily("Gautami"));
			await Coroutine.Sleep(26000);
		]]>
		</CodeChunk>
		<CodeChunk Name="BagsFull">
		<![CDATA[
			Core.OverlayManager.AddToast(() => "Bags are Full please empty and hit start to continue.", TimeSpan.FromMilliseconds(300000), System.Windows.Media.Color.FromRgb(29,213,226), System.Windows.Media.Color.FromRgb(13,106,175), new System.Windows.Media.FontFamily("Gautami"));
			await Coroutine.Sleep(300000);
		]]>
		</CodeChunk>	
  </CodeChunks>
</Profile>